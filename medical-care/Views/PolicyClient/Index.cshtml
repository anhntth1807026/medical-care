@using Microsoft.AspNet.Identity
@model IEnumerable<medical_care.Models.Policy>

@{
    Layout = null;
}
<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Content-Language" content="en">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>MedicalCare Dashboard</title>
    <meta name="viewport"
          content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, shrink-to-fit=no" />
    <meta name="description" content="This is an example dashboard created using build-in elements and components.">
    <meta name="msapplication-tap-highlight" content="no">

    <link href="~/Content/css/main.css" rel="stylesheet">

    <style>
        table {
            width: 100%;
        }

        #example_filter {
            float: right;
        }

        #example_paginate {
            float: right;
        }

        label {
            display: inline-flex;
            margin-bottom: .5rem;
            margin-top: .5rem;
        }

        /*span.text_over {
            text-overflow: ellipsis;
            white-space: nowrap;
            overflow: hidden;
            width: 100px;
            height: 100px;
        }*/


    </style>
</head>

<body>
    <div class="app-container app-theme-white body-tabs-shadow fixed-sidebar fixed-header">
        <!--    Navbar-->
        <div class="app-header header-shadow">
            <div class="app-header__logo">
                @*<div class="logo-src"></div>*@
                <img src="https://www.medicare.vn/CMSPages/GetFile.aspx?guid=cb261630-31f1-451b-b004-9cc69f6e7905" alt="medicare" style="width: 110px"/>
            </div>

            <div class="app-header__content">
                <div class="app-header-left">
                    @*<div class="search-wrapper">
                            <div class="input-holder">
                                <input type="text" class="search-input" placeholder="Type to search">
                                <button class="search-icon"><span></span></button>
                            </div>
                            <button class="close"></button>
                        </div>*@
                    <ul class="header-menu nav">
                        <li class="nav-item p-3 " >
                            <i class="fa fa-home " aria-hidden="true"></i>
                            @Html.ActionLink("Home", "Index", "PolicyClient", null, new {style= "text-decoration: none"})
                        </li>
                        <li class=" nav-item p-3 text-decoration-none">
                            <i class="fa fa-info-circle" aria-hidden="true"></i>
                            @Html.ActionLink("Employee Details", "EmployeeDetails", "PolicyClient", new { id = User.Identity.GetUserId() },new {style= "text-decoration: none"})
                        </li>
                        <li class=" nav-item p-3 text-decoration-none">
                            <i class="fa fa-paper-plane" aria-hidden="true"></i>
                            @Html.ActionLink("Contact Us", "Create", "ContactUs", null, new {style= "text-decoration: none"})
                        </li>
                        <li class=" nav-item p-3 text-decoration-none">
                            <i class="fa fa-fa fa-users" aria-hidden="true"></i>
                            @Html.ActionLink("About Us", "Index", "AboutUs", null, new {style= "text-decoration: none"})
                        </li>
                        @*<li class=" nav-item p-3">
            <i class="fa fa-paper-plane" aria-hidden="true"></i>
            @Html.ActionLink("Request Status", "PolicyOnEmp", "PolicyClient", new { id = User.Identity.GetUserId() }, null)
        </li>*@

                        @*<li class="dropdown nav-item p-2">
            @Html.ActionLink("Order For Insurance", "PolicyOnEmp", "PolicyClient")
        </li>*@
                    </ul>
                </div>
                <div class="app-header-right">
                    <div class="header-btn-lg pr-0">
                        <div class="widget-content p-0">
                            <div class="widget-content-wrapper">

                                <div class="widget-content-right header-user-info ml-3">
                                    @*<button type="button" class="btn-shadow p-1 btn btn-primary btn-sm show-toastr-example">
                                            <i class="fa text-white fa-calendar pr-1 pl-1"></i>
                                        </button>*@
                                    @Html.Partial("_LoginPartial")
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--    Main Content-->
        @*<div class="app-main">*@
        <!--    Navigation-->
        @*<div class="app-sidebar sidebar-shadow">
                <div class="app-header__logo">
                    <div class="logo-src"></div>
                    <div class="header__pane ml-auto">
                        <div>
                            <button type="button" class="hamburger close-sidebar-btn hamburger--elastic"
                                    data-class="closed-sidebar">
                                <span class="hamburger-box">
                                    <span class="hamburger-inner"></span>
                                </span>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="app-header__mobile-menu">
                    <div>
                        <button type="button" class="hamburger hamburger--elastic mobile-toggle-nav">
                            <span class="hamburger-box">
                                <span class="hamburger-inner"></span>
                            </span>
                        </button>
                    </div>
                </div>
                <div class="app-header__menu">
                    <span>
                        <button type="button"
                                class="btn-icon btn-icon-only btn btn-primary btn-sm mobile-toggle-header-nav">
                            <span class="btn-icon-wrapper">
                                <i class="fa fa-ellipsis-v fa-w-6"></i>
                            </span>
                        </button>
                    </span>
                </div>
            </div>*@
        @*<div class="app-main"></div>*@
    <div class="app-main__outer p-5">
        <div class="row">
            <div class="col-12">
                @*<div class="main-card mb-3 card">
                <div class="card-body">*@
                <h5 class="card-title p-3">Policy Details</h5>
                <div class="container ">
                    <div class="row">
                        <table id="example" class="table table-striped table-bordered"
                               style="width: 100%">
                            <thead>
                                <tr>
                                    @*<th><input type="checkbox" onclick="checkAll(this)"></th>*@
                                    <th>
                                        @Html.DisplayNameFor(model => model.PolicyId)
                                    </th>
                                    <th>
                                        PolicyName
                                    </th>
                                    <th>
                                        CompanyName
                                    </th>
                                    <th>
                                        HospitalName
                                    </th>
                                    <th class="text_over">
                                        @Html.DisplayNameFor(model => model.Description)
                                    </th>
                                    <th>
                                        Amount(USD)
                                    </th>
                                    <th>
                                        Duration(Year)
                                    </th>
                                    @*<th>Company Details</th>*@
                                    <th>Action</th>
                                </tr>
                            </thead>
                            @foreach (var item in Model)
                            {
                                <tbody>
                                    <tr>
                                        @*<td><input type="checkbox" name=""></td>*@
                                        <td>
                                            @Html.DisplayFor(modelItem => item.PolicyId)
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.Name)
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.Company.Name)
                                            @Html.ActionLink("Details", "Details", new { id = item.CompanyId }, new { @class = "font-weight-bold p-1" })
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.Hospital.Name)
                                            @Html.ActionLink("Details", "HospitalDetails", new { id = item.HospitalId }, new { @class = "font-weight-bold p-1" })
                                        </td>
                                        <td >
                                            <span>
                                                @Html.Raw(item.Description)
                                            </span>
                                            
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.Amount)
                                        </td>
                                        <td>
                                            @Html.DisplayFor(modelItem => item.Duration)
                                        </td>
                                        <td>
                                            @Html.ActionLink("Apply", "Order", new { id = item.PolicyId }, new { @class = "btn btn-primary" })
                                        </td>
                                    </tr>
                                </tbody>
                            }
                        </table>
                    </div>
                </div>
                @*</div>
                </div>*@
            </div>
        </div>
        <hr />
    </div>
        
    </div>
    <script type="text/javascript" src="~/Content/scripts/jquery-3.3.1.js"></script>
    <script type="text/javascript" src="~/Content/scripts/main.js"></script>
    
    @*<script type="text/javascript" src="https://cdn.rawgit.com/cloudinary/cloudinary_js/master/js/jquery.ui.widget.js"></script>
    <script type="text/javascript" src="https://rawgit.com/cloudinary/cloudinary_js/master/js/jquery.iframe-transport.js"></script>
    <script type="text/javascript" src="https://rawgit.com/cloudinary/cloudinary_js/master/js/jquery.fileupload.js"></script>
    <script type="text/javascript" src="https://rawgit.com/cloudinary/cloudinary_js/master/js/jquery.cloudinary.js"></script>*@
    
    <script src="~/Content/ckeditor/ckeditor.js"></script>

    <script>
        $(document).ready(function () {
            $('#example').DataTable(
                {
                    "aLengthMenu": [[5, 10, 25, -1], [5, 10, 25, "All"]],
                    "iDisplayLength": 5
                }
            );
        });

        function checkAll(bx) {
            var cbs = document.getElementsByTagName('input');
            for (var i = 0; i < cbs.length; i++) {
                if (cbs[i].type == 'checkbox') {
                    cbs[i].checked = bx.checked;
                }
            }
        }
    </script>
    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/bootstrap")
    @Scripts.Render("~/bundles/daterange")
</body>
</html>

